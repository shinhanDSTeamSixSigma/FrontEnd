"use strict";(self.webpackChunksixsigma=self.webpackChunksixsigma||[]).push([[584],{4964:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var r=a(3424),t=a(9584),l=a(9184),n=a(9792),i=a(6556),o=a(7884);const c="".concat(l._K),d={farmName:"",farmAddress:"",farmContent:"",farmDescription:"",farmPhone:"",farmSize:"",farmCareer:"",farmOrderNum:0,farmConnect:"",farmCategory:"",farmRating:0,reviewCnt:0},m={files:[],manageDiv:"FARM",fileManageNo:0},g={farmNo:0,cropName:0};function x(e){let{farmNo:s,moveList:a,moveRead:r}=e;const[x,h]=(0,t.useState)({...d}),[f,u]=(0,t.useState)({...m}),[p,y]=(0,t.useState)([]),[j,b]=(0,t.useState)(null),[N,v]=(0,t.useState)(null),w={...f},[k,C]=(0,t.useState)({...g}),[F,S]=(0,t.useState)([]),[A,D]=(0,t.useState)();(0,t.useEffect)((()=>{}));const M=e=>{const{name:s,value:a}=e.target;C({...k,[s]:a})};(0,t.useEffect)((()=>{(0,l.Y7)().then((e=>{console.log("\uc791\ubb3c \uc0ac\uc804:"+JSON.stringify(e)),S(e)}))}),[]),(0,t.useEffect)((()=>{(0,l.OC)(s).then((e=>{console.log("\ub4f1\ub85d\ud55c \ub18d\uc7a5 \uc791\ubb3c:"+JSON.stringify(e)),D(e.getResult)}))}),[]);const{moveToList:E,moveToRead:O}=(0,i.c)();(0,t.useEffect)((()=>{(0,l.ek)(s).then((e=>{console.log("\ub18d\uc7a5"+JSON.stringify(e)),h(e)}))}),[s]),(0,t.useEffect)((()=>{(0,l.wx)(s).then((e=>{console.log(e),y(e),console.log("patharr:"+p)}))}),[s]);const R=e=>{x[e.target.name]=e.target.value,h({...x})},z=e=>{u({...f,files:e.target.files});const s={...f,files:e.target.files};u(s)};(0,t.useEffect)((()=>{}),[p]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:" mt-10 m-2 p-4",children:[j?(0,o.jsx)(n.c,{title:"\ucc98\ub9ac\uacb0\uacfc",content:j,callbackFnc:()=>{"\uc0ad\uc81c\uc644\ub8cc"===j?E():O(s)}}):(0,o.jsx)(o.Fragment,{}),(0,o.jsx)("div",{className:"flex justify-left",children:(0,o.jsx)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("form",{children:(0,o.jsxs)("div",{className:"space-y-12",children:[(0,o.jsxs)("div",{className:"border-b border-gray-900/10 pb-12",children:[(0,o.jsx)("h1",{className:"text-xl font-semibold leading-7 text-gray-900",children:"\ub18d\uc7a5 \uc218\uc815"}),(0,o.jsx)("p",{className:"mt-2 text-sm leading-6 text-gray-600",children:"\ud604\uc7ac \uc791\uc131 \ud398\uc774\uc9c0\ub294 \ub18d\uc7a5\uc5d0 \ub300\ud55c \uc815\ubcf4\ub97c \uc218\uc815\ud558\ub294 \ub0b4\uc6a9\uc785\ub2c8\ub2e4."}),(0,o.jsxs)("div",{className:"mt-8 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:[(0,o.jsxs)("div",{className:"sm:col-span-4",children:[(0,o.jsx)("label",{htmlFor:"\ub18d\uc7a5\uc774\ub984",className:"block text-sm font-medium leading-6 text-gray-900",children:"\ub18d\uc7a5 \uc774\ub984"}),(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md",children:(0,o.jsx)("input",{type:"text",name:"farmName",id:"\ub18d\uc7a5\uc774\ub984",className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"\ud1a0\uc2ec\ub18d\uc7a5",onChange:R,value:x.farmName})})})]}),(0,o.jsxs)("div",{className:"sm:col-span-4",children:[(0,o.jsx)("label",{htmlFor:"\ub18d\uc7a5 \ud55c \uc904 \uc18c\uac1c",className:"block text-sm font-medium leading-6 text-gray-900",children:"\ub18d\uc7a5 \ud55c \uc904 \uc18c\uac1c"}),(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md",children:(0,o.jsx)("input",{type:"text",name:"farmContent",id:"\ub18d\uc7a5 \ud55c \uc904 \uc18c\uac1c",className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"\uc720\uae30\ub18d \ub2f9\uadfc \ub18d\uc7a5",onChange:R,value:x.farmContent})})})]}),(0,o.jsxs)("div",{className:"col-span-full",children:[(0,o.jsx)("label",{htmlFor:"\ub18d\uc7a5 \uc0c1\uc138 \uc124\uba85",className:"block text-sm font-medium leading-6 text-gray-900",children:"\ub18d\uc7a5 \uc0c1\uc138 \uc124\uba85"}),(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("textarea",{id:"\ub18d\uc7a5 \uc0c1\uc138 \uc124\uba85",name:"farmDescription",rows:3,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:x.farmDescription,onChange:R})})]})]}),(0,o.jsx)("label",{htmlFor:"\ub18d\uc7a5 \uc0ac\uc9c4",className:"block text-sm font-medium leading-6 text-gray-900 mt-4",children:"\ub18d\uc7a5 \uc0ac\uc9c4"}),(0,o.jsx)("div",{class:"flex items-center justify-center w-[35rem] ml-[5rem] mt-6",children:(0,o.jsxs)("label",{for:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-48 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[(0,o.jsxs)("div",{class:"flex flex-col items-center justify-center pt-3 pb-4 w-28",children:[(0,o.jsx)("svg",{class:"w-6 h-6 mb-3 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:(0,o.jsx)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),(0,o.jsx)("p",{class:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:(0,o.jsx)("span",{class:"font-semibold",children:"Click to upload or drag and drop"})}),(0,o.jsx)("p",{class:"text-sm text-gray-500 dark:text-gray-400",children:"SVG, PNG, JPG or GIF (MAX. 800x400px)"})]}),(0,o.jsx)("input",{id:"dropzone-file",type:"file",class:"hidden",onChange:z,multiple:!0})]})}),(0,o.jsx)("div",{className:"rounded-2xl w-full flex flex-wrap",children:p?p.map(((e,a)=>(0,o.jsxs)("div",{className:"flex flex-col w-[33%]",children:[(0,o.jsx)("img",{src:"".concat(c,"/").concat(e),alt:"image ".concat(a),className:"h-36 rounded-2xl shadow-xl  ml-[1rem] mt-[1rem] "},a),(0,o.jsx)("button",{onClick:e=>{e.preventDefault(),(e=>{const a=p[e];console.log("aaa: "+a);const r=a.split("/").pop().split(".")[0];console.log("aaa: "+r),console.log("aaa: "+s),(0,l.BX)(s,r).then((s=>{console.log(s),y((s=>{const a=[...s];return a.splice(e,1),a}))}))})(a)},className:" rounded text-sm  h-8 ml-[1rem] text-white bg-[#90C8AC]",children:"\uc0ad\uc81c"})]}))):(0,o.jsx)(o.Fragment,{})})]}),(0,o.jsx)("div",{className:"border-b border-gray-900/10 pb-12",children:(0,o.jsxs)("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:[(0,o.jsxs)("div",{className:"sm:col-span-4",children:[(0,o.jsx)("label",{htmlFor:"\ub18d\uc7a5\ubc88\ud638",className:"block text-sm font-medium leading-6 text-gray-900",children:"\ub18d\uc7a5 \uc804\ud654 \ubc88\ud638"}),(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("input",{id:"\ub18d\uc7a5\ubc88\ud638",name:"farmPhone",type:"text",value:x.farmPhone,onChange:R,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,o.jsxs)("div",{className:"sm:col-span-4",children:[(0,o.jsx)("label",{htmlFor:"\ub18d\ubd80 \uacbd\ub825",className:"block text-sm font-medium leading-6 text-gray-900",children:"\ub18d\ubd80 \uacbd\ub825"}),(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("input",{id:"\ub18d\ubd80 \uacbd\ub825",value:x.farmCareer,name:"farmCareer",type:"text",onChange:R,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,o.jsxs)("div",{className:"sm:col-span-4",children:[(0,o.jsx)("label",{htmlFor:"\ub18d\uc7a5 \ud3c9 \uc218",className:"block text-sm font-medium leading-6 text-gray-900",children:"\ub18d\uc7a5 \ud3c9 \uc218"}),(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("input",{id:"\ub18d\uc7a5 \ud3c9 \uc218",name:"farmSize",type:"text",value:x.farmSize,onChange:R,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,o.jsxs)("div",{className:"sm:col-span-3",children:[(0,o.jsx)("label",{htmlFor:"\ub300\ud45c \uc791\ubb3c",className:"block text-sm font-medium leading-6 text-gray-900",children:"\ub300\ud45c \uc791\ubb3c"}),(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsxs)("select",{id:"\ub300\ud45c \uc791\ubb3c",name:"cropDictNo",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm sm:leading-6",onChange:M,children:[(0,o.jsx)("option",{selected:!0,disabled:!0,hidden:!0,children:A&&A.cropName}),F.map(((e,s)=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("option",{children:e.cropName})})))]})})]}),(0,o.jsxs)("div",{className:"col-span-full",children:[(0,o.jsx)("label",{htmlFor:"\ub18d\uc7a5 \uc8fc\uc18c",className:"block text-sm font-medium leading-6 text-gray-900",children:"\ub18d\uc7a5 \uc8fc\uc18c"}),(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("input",{type:"text",name:"farmAddress",id:"\ub18d\uc7a5 \uc8fc\uc18c",value:x.farmAddress,onChange:R,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,o.jsxs)("div",{className:"col-span-full",children:[(0,o.jsx)("label",{htmlFor:"\uc5f0\ub77d \uac00\ub2a5 \uc2dc\uac04",className:"block text-sm font-medium leading-6 text-gray-900",children:"\uc5f0\ub77d \uac00\ub2a5 \uc2dc\uac04"}),(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("input",{type:"text",name:"farmConnect",id:"\uc5f0\ub77d \uac00\ub2a5 \uc2dc\uac04",value:x.farmConnect,onChange:R,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]})]})})]})})})})}),(0,o.jsxs)("div",{className:"flex justify-end p-4",children:[(0,o.jsx)("button",{type:"button",className:"inline-block rounded m-2 text-xl w-28 h-12  text-white bg-[#4F6F52]",onClick:()=>{(0,l.Se)(s).then((e=>{console.log("\uc0ad\uc81c: "+e)})),(0,l.MV)(s).then((e=>{console.log("delete result: "+e),b("\uc0ad\uc81c\uc644\ub8cc")}))},children:"\uc0ad\uc81c\ud558\uae30"}),(0,o.jsx)("button",{type:"button",className:"inline-block rounded m-2 text-xl w-28 h-12 text-white bg-[#90C8AC]",onClick:()=>{(0,l.i4)(x).then((e=>{console.log("modify result: "+e),b("\uc218\uc815\uc644\ub8cc");const a=new FormData;for(let s=0;s<w.files.length;s++)a.append("files",w.files[s]);a.append("manageDiv","FARM"),a.append("fileManageNo",s),(0,l.KW)(a).then((e=>{console.log(e),v(e.FileNO),u({...m})})).catch((e=>{console.error(e)})),(0,l.cJ)({farmNo:s,cropName:k.cropDictNo}).then((e=>{console.log(e),C({...g})})).catch((e=>console.error(e)))}))},children:"\uc218\uc815\ud558\uae30"})]})]})})}function h(){const{farmNo:e}=(0,r.W4)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(x,{farmNo:e})})}}}]);