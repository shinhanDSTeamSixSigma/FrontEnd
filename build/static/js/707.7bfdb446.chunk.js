"use strict";(self.webpackChunksixsigma=self.webpackChunksixsigma||[]).push([[707],{4840:(e,t,s)=>{s.d(t,{c:()=>i});var o,n=s(4312),l=s(3232),a=s(2496);const r=l.cp.body(o||(o=(0,n.c)(["\n    color: black;\n    background-color: #ffffff;\n    font-size: 20px;\n    margin-top: 2rem;\n    margin-left: 1.5rem;\n    margin-right: 1.5rem;\n    padding-bottom: 1rem;\n"])));function i(e){let{children:t}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r,{children:t})})}},7032:(e,t,s)=>{s.d(t,{c:()=>i});var o,n=s(4312),l=s(3232),a=s(2496);const r=l.cp.div(o||(o=(0,n.c)(["\n  border-top: 0.2rem solid #90c8ac;\n"])));function i(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r,{})})}},9088:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var o,n=s(4312),l=s(9060),a=s(3232),r=s(1001),i=s(4840),c=s(6700),d=(s(7620),s(1560)),m=s(8372),u=s(7032),h=s(2496);const b=a.cp.div(o||(o=(0,n.c)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),g={legend:{display:!0},scales:{yAxes:[{ticks:{min:0,stepSize:.5}}]},maintainAspectRatio:!1},p=e=>{const t=new Date;return Math.round((t-new Date(e))/864e5)},x=e=>{const t=new Date(e),s=t.getMonth()+1,o=t.getDate();return"".concat(s,".").concat(o)},C=()=>{const e=(0,d.IT)().state.crop,[t,s]=(0,l.useState)([]),[o,n]=(0,l.useState)(""),[a,C]=(0,l.useState)(""),[f,y]=(0,l.useState)(null),[j,k]=(0,l.useState)(null),[A,v]=(0,l.useState)("daily");(0,l.useEffect)((()=>{F()}),[]);const F=()=>{m.c.get("".concat("http://localhost:8090","/cropLogs/").concat(e.cropNo),{withCredentials:!0}).then((e=>{s(e.data);const t=e.data[0].sensorTime,o=e.data[e.data.length-1].sensorTime;n(t),C(o),D(e.data),w(e.data)})).catch((e=>{console.log(e)}))},D=e=>{const t=[],s=[],o=[],n=[],l=[];e.forEach((e=>{t.push(e.humidity),s.push(e.lumen),o.push(e.soilHumid),n.push(e.thomer),l.push(x(e.sensorTime))}));y({labels:l,datasets:[{label:"\uc2b5\ub3c4",data:t,borderColor:"#F5F0BB",backgroundColor:"#F5F0BB"},{label:"\uc870\ub3c4",data:s,borderColor:"#C4DFAA",backgroundColor:"#C4DFAA"},{label:"\ud1a0\uc591 \uc2b5\ub3c4",data:o,borderColor:"#90C8AC",backgroundColor:"#90C8AC"},{label:"\uc628\ub3c4",data:n,borderColor:"#73A9AD",backgroundColor:"#73A9AD"}]})},w=e=>{const t=[],s=[];for(let n=0;n<e.length;n+=7){const o=e.slice(n,n+7),l=o.reduce(((e,t)=>e+t.humidity),0),a=o.reduce(((e,t)=>e+t.lumen),0),r=o.reduce(((e,t)=>e+t.soilHumid),0),i=o.reduce(((e,t)=>e+t.thomer),0),c={humidity:l/o.length,lumen:a/o.length,solidHumid:r/o.length,thomer:i/o.length};t.push(c);const d=x(o[0].sensorTime),m=x(o[o.length-1].sensorTime);s.push("".concat(d," ~ ").concat(m))}const o={labels:s,datasets:[{label:"\uc2b5\ub3c4",data:t.map((e=>e.humidity)),borderColor:"#F5F0BB",backgroundColor:"#F5F0BB"},{label:"\uc870\ub3c4",data:t.map((e=>e.lumen)),borderColor:"#C4DFAA",backgroundColor:"#C4DFAA"},{label:"\ud1a0\uc591 \uc2b5\ub3c4",data:t.map((e=>e.solidHumid)),borderColor:"#90C8AC",backgroundColor:"#90C8AC"},{label:"\uc628\ub3c4",data:t.map((e=>e.thomer)),borderColor:"#73A9AD",backgroundColor:"#73A9AD"}]};k(o)},B=e=>{v(e)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(r.c,{children:(0,h.jsxs)("div",{className:"flex justify-between items-center",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"text-2xl font-black",children:e.cropNickname}),"\ub294 \uc9c0\uae08?"]}),(0,h.jsxs)("div",{className:"text-sm pt-2",children:["\ud568\uaed8\ud55c\uc9c0 ",p(e.createdDate)," \uc77c\uc9f8"]})]})}),(0,h.jsx)(u.c,{}),(0,h.jsxs)(i.c,{children:[(0,h.jsxs)("div",{className:"flex justify-end",style:{paddingBottom:"1rem"},children:[(0,h.jsx)("button",{className:"flex-none rounded-lg ".concat("daily"===A?"bg-[#C4DFAA]":"bg-[#C4C4C4]"," px-3.5 py-2.5 text-sm font-semibold text-black shadow-sm hover:bg-[#C4DFAA] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 mt-2 mr-3"),onClick:()=>B("daily"),children:"\uc77c\uac04"}),(0,h.jsx)("button",{className:"flex-none rounded-lg ".concat("weekly"===A?"bg-[#C4DFAA]":"bg-[#C4C4C4]"," px-3.5 py-2.5 text-sm font-semibold text-black shadow-sm hover:bg-[#C4DFAA] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 mt-2 mr-3"),onClick:()=>B("weekly"),children:"\uc8fc\uac04"})]}),(0,h.jsx)("div",{style:{backgroundColor:"#FFFFF0",height:"100%"},children:(0,h.jsxs)("div",{children:[(0,h.jsxs)(b,{style:{marginBottom:"2rem",paddingTop:"1rem"},children:[(0,h.jsx)("span",{className:"text-sm pl-3 pr-3 ".concat("daily"===A?"font-black":""),children:"\uc77c\uac04"}),(0,h.jsx)("span",{className:"text-sm pr-3 ".concat("weekly"===A?"font-black":""),children:"\uc8fc\uac04"})]}),(0,h.jsx)(b,{style:{justifyContent:"space-evenly",marginBottom:"1rem"},children:(0,h.jsx)(b,{style:{margin:"0.5rem 0"},children:(0,h.jsxs)("span",{className:"text-sm mr-1",children:[x(o)," ~"," ",x(a)]})})}),(0,h.jsx)("div",{style:{display:"daily"===A?"block":"none",width:"100%",height:"20rem"},children:f&&(0,h.jsx)(c.sP,{data:f,options:g})}),(0,h.jsx)("div",{style:{display:"weekly"===A?"block":"none",width:"100%",height:"20rem"},children:j&&(0,h.jsx)(c.sP,{data:j,options:g})})]})})]})]})}}}]);
//# sourceMappingURL=707.7bfdb446.chunk.js.map